{
  "connectionType": "kafka",
  "connectionStatus": "open",
  "failoverEnabled": true,
  "uri": "tcp://kafka-broker:9092",
  "specificConfig": {
    "bootstrapServers": "kafka-broker:9092"
  },
  "sources": [
    {
      "addresses": ["ebike-update"],
      "consumerCount": 1,
      "qos": 1,
      "authorizationContext": ["ditto:inbound-auth-subject"],
      "enforcement": {
        "input": "{{ header:ebike_id }}",
        "filters": ["{{ entity:id }}"]
      },
      "headerMapping": {
        "ebike-id": "{{ header:ebike_id }}",
        "timestamp": "{{ header:timestamp }}"
      },
      "payloadMapping": ["Ditto"],
      "replyTarget": {
        "enabled": true,
        "address": "EBIKE-REPLIES",
        "headerMapping": {},
        "expectedResponseTypes": ["response", "error", "nack"]
      },
      "acknowledgementRequests": {
        "includes": []
      },
      "declaredAcks": []
    }
  ],
  "targets": [
    {
      "address": "EBIKE-COMMANDS",
      "topics": [
        "_/_/things/twin/events",
        "_/_/things/live/messages"
      ],
      "authorizationContext": ["ditto:outbound-auth-subject"]
    }
  ]
}